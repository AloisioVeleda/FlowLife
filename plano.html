<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<title>FlowLife ‚Äî Seu Plano Personalizado</title>
<style>
:root { --scroll-behavior: smooth; --nav-height: 64px; }
* { margin: 0; padding: 0; box-sizing: border-box; }:root { --scroll-behavior: smooth; } * { margin:0; padding:0; box-sizing:border-box; } body { font-family:'Poppins', sans-serif; background:#0f1115; color:#f5f5f5; overflow-x:hidden; scroll-behavior:var(--scroll-behavior); } a { text-decoration:none; color:inherit; } nav { position:fixed; top:0; left:0; width:100%; backdrop-filter:blur(10px); background:rgba(15,17,21,0.85); 
    box-shadow:0 1px 8px rgba(0,0,0,0.3); z-index:100; } .nav-container { max-width:1200px; margin:auto; display:flex; 
    justify-content:space-between; align-items:center; padding:1rem 2rem; } .nav-logo { font-size:1.8rem; font-weight:700; 
    color:#4caf50; letter-spacing:1px; transition: transform 0.3s; } .nav-logo:hover { transform:scale(1.05); } 
    .nav-menu { display:flex; gap:2rem; } .nav-menu a { color:#e0e0e0; font-weight:500; position:relative; 
    transition:color 0.3s ease; } .nav-menu a::after { content:""; position:absolute; width:0%; height:2px; bottom:-5px; left:0; 
    background-color:#4caf50; transition:width 0.3s; } .nav-menu a:hover { color:#4caf50; } .nav-menu a:hover::after 
    { width:100%; }
body {
    font-family: 'Poppins', sans-serif;
    background-color: #0f1115;
    color: #f5f5f5;
    overflow-x: hidden;
    scroll-behavior: var(--scroll-behavior);
    padding-top: var(--nav-height);
}
a { text-decoration: none; color: inherit; }

nav {
    position: fixed; top: 0; left: 0; width: 100%; height: var(--nav-height);
    backdrop-filter: blur(10px); background: rgba(15,17,21,0.85);
    box-shadow: 0 1px 8px rgba(0,0,0,0.3); z-index: 100;
}
.nav-container {
    max-width: 1200px; margin: auto; display: flex;
    justify-content: space-between; align-items: center; padding: 1rem 2rem;
}
.nav-logo { font-size: 1.8rem; font-weight: 700; color: #4caf50; letter-spacing: 1px; transition: transform 0.3s; }
.nav-logo:hover { transform: scale(1.05); }
.nav-menu { display: flex; gap: 2rem; }
.nav-menu a { color: #e0e0e0; font-weight: 500; position: relative; transition: color 0.3s ease; }
.nav-menu a::after { content: ""; position: absolute; width: 0%; height: 2px; bottom: -5px; left: 0; background-color: #4caf50; transition: width 0.3s; }
.nav-menu a:hover { color: #4caf50; }
.nav-menu a:hover::after { width: 100%; }

main {
    padding: 30px 20px;
    display: flex; justify-content: center; align-items: flex-start;
    min-height: calc(100vh - var(--nav-height));
}
.container {
    width: 100%; max-width: 820px; background: #1c2026; border-radius: 16px;
    padding: 28px; box-shadow: 0 8px 35px rgba(0,0,0,0.4);
}
h2,h3 { color: #f5f5f5; }
p.lead { color: #bdbdbd; margin-bottom: 24px; }

/* PAINEL DE PONTUA√á√ÉO */
.scores-panel { background: #252a31; padding: 20px; border-radius: 12px; margin-bottom: 24px; }
.scores-panel h3 { margin-bottom: 16px; text-align: center; }
.score-item { margin-bottom: 12px; }
.score-item .label { display: flex; justify-content: space-between; margin-bottom: 6px; font-weight: 500; }
.score-bar-bg { width: 100%; height: 12px; background: #333; border-radius: 6px; overflow: hidden; }
.score-bar { height: 100%; border-radius: 6px; transition: width 1s ease-out; }
.score-bar.saude { background: #4caf50; }
.score-bar.financas { background: #2196F3; }
.score-bar.organizacao { background: #FFC107; }

.focus-badge { display: inline-block; background: #4caf50; color: #fff; padding: 10px 16px; border-radius: 12px; font-weight: 600; margin-bottom: 20px; }

.section { background: #252a31; padding: 20px; border-radius: 10px; margin-bottom: 16px; }
ul { margin: 8px 0 0 20px; color: #ccc; line-height: 1.7; }

.actions { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 24px; }
button { padding: 12px 18px; border-radius: 10px; border: none; cursor: pointer; font-size: 0.95rem; font-weight: 500; transition: all 0.2s; }
button.primary { background: #4caf50; color: #fff; flex-grow: 1; }
button.primary:hover { background: #43a047; transform: scale(1.02); }
button.secondary { background: #333; color: #e0e0e0; }
button.secondary:hover { background: #444; }

.no-data { text-align: center; padding: 40px; color: #aaa; }
.no-data a { color: #4caf50; text-decoration: underline; font-weight: 600; }
</style>

</head>
<body>
<nav>
    <div class="nav-container">
      <a href="#inicio" class="nav-logo">FlowLife</a>
      <div class="nav-menu">
        <a href="perfil.html">Meu Perfil</a>
        <a href="plano.html">Meu Plano</a>
        <a href="agenda.html">Agenda</a>
        <a href="financas.html">Finan√ßas</a>
        <a href="nutricao.html">Nutri√ß√£o</a>
        <a href="dashboard.html">Meu Painel</a>
      </div>
    </div>
  </nav>
</nav>
<main>
    <div class="container" id="container">
        <h2>Seu Plano Personalizado üß©</h2>
        <p class="lead">Este √© o seu ponto de partida, gerado a partir das suas respostas.</p>
        <div id="result-area"><p class="no-data">Carregando seu plano...</p></div>
        <div class="actions" id="actions" style="display:none;">
            <button class="primary" onclick="window.location.href='dashboard.html'">Voltar ao Painel</button>
            <button class="secondary" onclick="retakeQuiz()">Refazer question√°rio</button>
        </div>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const resultArea = document.getElementById('result-area');
        const actions = document.getElementById('actions');

        // Esta fun√ß√£o agora l√™ do localStorage
        function loadPlanData() {
            try {
                const planDataJSON = localStorage.getItem('flowlife_plan');
                
                if (!planDataJSON) {
                    resultArea.innerHTML = `<div class="no-data"><p>Nenhum plano encontrado. <br><a href="quiz.html">Clique aqui para iniciar o question√°rio</a></p></div>`;
                    return;
                }
                
                renderPlan(JSON.parse(planDataJSON));

            } catch (error) {
                console.error("Erro ao carregar o plano:", error);
                resultArea.innerHTML = `<div class="no-data"><p>Ocorreu um erro ao carregar seu plano. Tente novamente.</p></div>`;
            }
        }

        // Esta fun√ß√£o √© id√™ntica √† que voc√™ j√° tinha
        function renderPlan(data) {
            const { totals, selectedAnswers } = data;
            const order = Object.keys(totals).sort((a,b)=>totals[b]-totals[a]);
            const maxScore = Math.max(...Object.values(totals)) || 1;
            const primary = order[0];
            const human = { saude: 'Sa√∫de', financas: 'Finan√ßas', organizacao: 'Organiza√ß√£o' }[primary];
            
            const scoresHTML = `<div class="scores-panel"><h3>Sua Distribui√ß√£o de Foco</h3>${order.map(key => `<div class="score-item"><div class="label"><span>${{saude:'üí™ Sa√∫de', financas:'üí∞ Finan√ßas', organizacao:'üß† Organiza√ß√£o'}[key]}</span><span>${totals[key]} pts</span></div><div class="score-bar-bg"><div class="score-bar ${key}" style="width:0%" data-score="${(totals[key]/maxScore)*100}"></div></div></div>`).join('')}</div>`;
            const sectionsHTML = order.map(key => {
                let sectionTitle = '', content='';
                if(key==='saude') { sectionTitle='üí™ Sa√∫de F√≠sica e Mental'; content=`<ul>${selectedAnswers[1]?.label==='Menos de 6h'?'<li><strong>Priorize o sono:</strong> estabele√ßa hor√°rio regular (7-8h).</li>':''}<li><strong>Atividade f√≠sica:</strong> 3 sess√µes semanais de 30 minutos.</li><li><strong>Alimenta√ß√£o consciente:</strong> inclua frutas e legumes diariamente.</li></ul>`; }
                if(key==='financas') { sectionTitle='üí∞ Controle Financeiro'; content=`<ul>${selectedAnswers[2]?.label==='Desorganizada'?'<li><strong>Diagn√≥stico financeiro:</strong> registre todos os gastos por 15 dias.</li>':''}<li><strong>Defina metas claras:</strong> ex: guardar R$ 150/m√™s.</li><li><strong>Use ferramentas:</strong> planilha ou app para entradas e sa√≠das.</li></ul>`; }
                if(key==='organizacao') { sectionTitle='üß† Organiza√ß√£o Pessoal'; content=`<ul>${selectedAnswers[3]?.label==='Nunca'?'<li><strong>Planejamento di√°rio:</strong> defina a tarefa mais importante para o pr√≥ximo dia.</li>':''}<li><strong>Regra dos 2 minutos:</strong> execute tarefas r√°pidas imediatamente.</li><li><strong>Revis√£o semanal:</strong> reserve 20 min aos domingos para planejar a semana.</li></ul>`; }
                return `<div class="section"><h3>${sectionTitle}</h3>${content}</div>`;
            }).join('');
            
            resultArea.innerHTML = `<div class="focus-badge">Sua prioridade √©: ${human}</div>${scoresHTML}${sectionsHTML}`;
            actions.style.display = 'flex';

            setTimeout(() => { document.querySelectorAll('.score-bar').forEach(bar => bar.style.width = `${bar.dataset.score}%`); }, 100);
        }

        // Inicia o carregamento
        loadPlanData();
    });

    // Esta fun√ß√£o √© id√™ntica √† que voc√™ j√° tinha
    function retakeQuiz() {
        if(confirm("Isso o levar√° para o in√≠cio do question√°rio. Seu plano atual ser√° perdido ap√≥s refazer. Deseja continuar?")){
            // Limpa o plano antigo para for√ßar o rec√°lculo
            localStorage.removeItem('flowlife_plan');
            window.location.href='quiz.html';
        }
    }
</script>
</body>
</html>